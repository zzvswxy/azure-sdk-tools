parameters:
  - name: swagger
    type: object

  - name: sdk
    type: string
    values:
      - js
      - java
      - go
      - net
      - python

  - name: service
    type: string
steps:
  - bash: |
      if [ -z ${{ parameters.swagger.branch }} ];then
        echo "swagger.branch is empty"
        exit 1
      elif [ -z ${{ parameters.swagger.path }} ];then
        echo "swagger.path is empty"
        exit 1
      else
        echo "##vso[task.setvariable variable=specRepoUrl;]${{ parameters.swagger.path }}"
        echo "##vso[task.setvariable variable=specRepoBranch;]${{ parameters.swagger.branch }}"
      fi
    displayName: check parameters

  - ${{ if eq(parameters.sdk, 'js') }}:
    - bash: |
        echo "##vso[task.setvariable variable=sdkRepoUrl;]https://github.com/Azure/azure-sdk-for-js.git"
      displayName: set js sdk repo
  - ${{ elseif eq(parameters.sdk, 'java') }}:
    - bash: |
        echo "##vso[task.setvariable variable=sdkRepoUrl;]https://github.com/Azure/azure-sdk-for-java.git"
      displayName: set java sdk repo
  - ${{ elseif eq(parameters.sdk, 'go') }}:
    - bash: |
        echo "##vso[task.setvariable variable=sdkRepoUrl;]https://github.com/Azure/azure-sdk-for-go.git"
      displayName: set go sdk repo
  - ${{ elseif eq(parameters.sdk, 'net') }}:
    - bash: |
        echo "##vso[task.setvariable variable=sdkRepoUrl;]https://github.com/Azure/azure-sdk-for-net.git"
      displayName: set net sdk repo
  - ${{ elseif eq(parameters.sdk, 'python') }}:
    - bash: |
        echo "##vso[task.setvariable variable=sdkRepoUrl;]https://github.com/Azure/azure-sdk-for-python.git"
      displayName: set python sdk repo
  - ${{ else }}:
    - bash: |
        exit 1
      displayName: set sdk repo
